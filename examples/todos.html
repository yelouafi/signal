<!doctype html>
<html>
<head>
	<style>
		.done {
		  text-decoration: line-through;
		  color: grey;
		}
	</style>

</head>
<body>
<h1>Simple Todos App</h1>
<div>
    <p>
        <input type="text" id="todoText">
        <button id="addTodo">Add</button>
    </p>
    <p>Todo List</p>
    <ul id="todoList">
        <li>Todo here ...</li>
    </ul>
</div>

<script src="../score.js"></script>
<script src="../signal.js"></script>
<script src="../signal.dom.js"></script>
<script>

var todoText = function() {
	return document.getElementById('todoText').value;
}

var todoTemplate = function(text) {
    return $$.t('li.todo', 
		$$.t('input.check[type=checkbox]')
		text, 
		$$.t('button.remove', 'X')
	);
}

var todoList = $$('todoList', {
	'<li.todo': function(li) {
		return { 
			css: { done: li.$('.check') } 
		};
	}
});
var addTodo = $$('addTodo').click( todoText ).map( todoTemplate ).map( todoList.append );




</script>
</body>
</html>