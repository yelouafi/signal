{"filter":false,"title":"higherOrder.js","tooltip":"/src/higherOrder.js","undoManager":{"mark":24,"position":24,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":78,"column":1},"action":"insert","lines":["ss.dcombine = function dmap(dynArrSig, fn) {","    var emitter = signal(),","\t\tcurSrc = null,","\t\tcombinedSrc = null,","\t\thigherSrc = ss.map(dynArrSig, setSrc);","\t\t","    return emitter;","    ","    function setSrc( src ) {","\t\tcurSrc && curSrc.deactivate();","\t\tcombinedSrc && combinedSrc.deactivate();","\t\tcombinedSrc = fn(src);","\t\temitter.$$sources = combinedSrc.$$sources;","\t\tcombinedSrc.$$name = emitter.$$name;","\t\tcurSrc = ss.map( combinedSrc, emitter.$$emit.bind(emitter) );","\t\tif( curSrc() !== neant )","\t\t\temitter.$$emit( curSrc() );","\t}","};","","ss.dmap = function dmap(dynArrSig, fn) {","\treturn ss.dcombine(dynArrSig, function (sigList) {","\t\treturn ss.map(sigList, fn);","\t})","}","","ss.dmerge = function dmerge(dynArrSig) {","\treturn ss.dcombine(dynArrSig, function (sigList) {","\t\treturn ss.merge(sigList);","\t})","}","","ss.flatMap = function flatMap(src, fn) {","\tvar arr = [];","\tvar dynSrc = ss.def(arr,","\t\t[src, function(val) {","\t\t\tarr.push( fn(val) );","\t\t\treturn arr;","\t\t}]","\t);","    return ss.dcombine(dynSrc, function (arrOfsig) {","    \treturn ss.merge(arrOfsig);","    });","};","","ss.switch = function sswitch( startSig, event ) {","    startSig = ss.isSig(startSig) ? startSig : signal(startSig);","    var dynSrc = ss.def(startSig, [event, _.id]);","    return ss.dcombine(dynSrc, _.id);","};","","","ss.computed = function computed(fn) {","\tvar curSrc,","\t\temitter = ss.signal( invoke() );","\treturn emitter;","\t","\tfunction invoke() {","\t\tcurSrc && curSrc.deactivate();","\t\tvar res = DepsTracker.invoke(fn);","\t\tcurSrc = ss.combine( res.deps, invoke, true );","\t\temitter && emitter.$$emit(res.result);","\t\treturn res.result;","\t}","};","","var DepsTracker = {};","DepsTracker.stack\t= [];","DepsTracker.invoke = function(fn) {","\tDepsTracker.stack.push([]);","\tvar res = fn();","\treturn { deps: DepsTracker.stack.pop(), result: res };","}","DepsTracker.tracking\t= function() \t{ return DepsTracker.stack.length; };","DepsTracker.addDep\t\t= function(dep) { ","\treturn _.add( _.head(DepsTracker.stack), dep, true );","}"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":31},"action":"insert","lines":["var _ = require(\"./static.js\"),"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":31},"end":{"row":1,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":0},"end":{"row":1,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":4},"end":{"row":1,"column":5},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":5},"end":{"row":1,"column":6},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":6},"end":{"row":1,"column":7},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":8},"end":{"row":1,"column":9},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":9},"end":{"row":1,"column":35},"action":"insert","lines":[" = require(\"./static.js\"),"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":7},"end":{"row":1,"column":8},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":20},"end":{"row":1,"column":26},"action":"remove","lines":["static"]},{"start":{"row":1,"column":20},"end":{"row":1,"column":21},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":21},"end":{"row":1,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":22},"end":{"row":1,"column":23},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":23},"end":{"row":1,"column":24},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":24},"end":{"row":1,"column":25},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":25},"end":{"row":1,"column":26},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":26},"end":{"row":1,"column":27},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":27},"end":{"row":1,"column":28},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":33},"end":{"row":1,"column":34},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":33},"end":{"row":1,"column":34},"action":"insert","lines":[";"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":1,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1425041788723,"hash":"9789e2321c5e3c9238d94565b3789d92fb833d45"}